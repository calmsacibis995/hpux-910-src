.nr Cl 3
.nr Ej 1
.ds HF 3 3 2 2 2 2 2
.ds HP 12 12 10 10 10 10 10
.PH "'Product Requirements Document"
\" .EF "'HP Internal Use Only' - \\\\nP - ' \\\\n(mo/\\\\n(dy/\\\\n(yr'"
\" .OF "'HP Internal Use Only' - \\\\nP - ' \\\\n(mo/\\\\n(dy/\\\\n(yr'"
.PF "'HP Internal Use Only' - \\\\nP - ' \\\\n(mo/\\\\n(dy/\\\\n(yr'"
.nr Hu 1	\" define Appendix header and format
.nr a 0
.de aH
.nr a +1
.PH "'Product Requirements Document''Appendix \\na'"
.HU "\\$1"
..
.ps 18
.ft 3
.ce 2
PRODUCT REQUIREMENTS DOCUMENT
S300/S800 NFS PROJECT
.sp 6
.ps 14
.vs 26
.ce 1
COLORADO NETWORKS DIVISION
.ps 12
.vs 14
.ft 1
.ce 2
$Date: 91/11/19 14:32:52 $
$Revision: 1.9.109.1 $
.sp 3
.ce 2
Program Team Leader: Dave Matthews
Author: Jeff Elison
.ps 10
.vs 12
.sp 6
.ad
The s300/s800 NFS 3.2 project will provide Sun's
Network File System  (NFS) Version 3.2 on HP 9000  Series  300/800
HP-UX  systems.  NFS provides a means of transparently sharing  files
among heterogeneous systems on a common network.  Remote  file  access
remains invisible to users.  Sun's NFS Version 3.2 enhancements 
include remote file locking, a remote execution service, and an
RPC protocol compiler.
.sp 1
The NFS  code  will be  ported  from  source  code  provided  by Sun
Microsystems,   Inc.  in  accordance   with  Sun's  NFS   technology
licensing  agreement.  To insure compatibility and connectivity in a
multi-vendor network environment, the HP NFS product will conform to
the  multi-vendor  industry standards   implemented  by  Sun.  These
standards are defined by the NFS protocol specifications.
.sp 1
Unless otherwise stated, all objectives and comments herein refer
to both the Series 300 and the Series 800.
.na
.H 1 "PRODUCT OBJECTIVES"
.H 2 "Key Product Features"
.ad
The objective of the NFS 3.2 project is to add the enhancements from
Sun's NFS 3.2 release to HP's existing NFS product.  The new features
of the NFS 3.2 product include:
.na
.nf

	o The Lock Manager and Status Monitor which together provide
	  System V compatible ADVISORY file and record locking (fcntl
	  calls) for remote files.

	o The RPC protocol compiler, rpcgen, which introduces a 
	  language for creating RPC servers and XDR routines
	  without writing C routines.

        o The Remote Execution Service, REX, an RPC-based service
	  that preserves the working directory and environment
	  variables of the invoking process.

        o Support for named pipes over NFS.

In addition to the "must" features listed above, the following non-NFS 3.2
features are also being considered for this release:

	o Support for HP-UX Access Control Lists
.fi
.bp
.H 2 "Quality Objectives"
.ad
The overall goal is to have a product of better quality 
than Sun's NFS product.
The quality objectives are based
on the FLURPS model.
.na
.sp 2
.H 3 "Functionality Objectives"
.sp 1
.nf
	MUST	- Provide 100 percent of Sun's NFS (rel 3.2)
		  functionality.  The exact feature set is defined 
		  by the MUST level objectives in the Detailed 
		  Functional Objectives section.
.fi
.sp 2
.H 3 "Localizibility Objectives"
.sp 1
.nf
	MUST 	- Provide natural language support (NLS), otherwise
		  known as "localizibility", consistent with the
		  system 1.5 guidelines.  Localizibility includes
		    o support of 7, 8, and 16 bit characters,
		    o conformance with the HP-15 standard on a per
		      site basis,
		    o support for local customs (e.g., date formats),
		    o support for message catalogues.
.fi
.sp 2
.H 3 "Usability Objectives"
.sp 1
.nf
	MUST    - Provide a common user interface for the s300
		  and s800.  In particular, fix the following:
		    - When the NFS code fails to get a response
		      from the server, it logs a message to the
		      network log file.  On the 800, it also
		      writes a message to the USER's tty.
                    - When NFS is not configured into the kernel,
		      the 800 produces a SIGSYS signal and returns
		      EINVAL.  The 300 returns ENOPROTOOPT.

	W 	- Improve diagnostic and error messages
		  (i.e., readability, logging, correctness).
.fi
.sp 2
.H 3 "Reliability Objectives"
.sp 1
.fi
The reliability objectives for both the s300 and s800 reflect the
goal of 10x improvement in software reliability.
.sp 1
.fi
.ad b
s300 Reliability Objectives
.sp 1
The reliability objectives for the NFS Services/300 product 
address user-space code and kernel code separately.  
Essentially, the objectives for the NFS Services/300 product are to 
1) attain HP quality for all NFS kernel code and 
2) to attain quality better than Sun's 
NFS product for all NFS user-space code.
.sp 1
The reliability objectives for the NFS Services/300 product 
are less stringent than those for the s800 product.  
.sp 1
.nf
	MUST	- Fix all known defects with DTS weights greater than
		  or equal to five.

	MUST 	- Obtain 70 percent code depth coverage for user-space
		  and kernel code.

	MUST	- Demonstrate overall system reliability by successfully
		  completing 24, 48 and 120 hour reliability tests.

	MUST	- Have no system crashes caused by unknown NFS
		  defects during the last 20 calendar days before
		  release to manufacturing.

	MUST	- Pass all tests in the functional test suite as
		  a final bits test.  For the s300 product, this test
		  must be run before releasing the bits to SSIT
		  and also after SSIT has returned the final bits.

	MUST	- Pass the Sun-supplied NFS tests.

	HW	- Kernel and user-space code depth coverage will be
		  equal to or greater than 85 percent (ING goal).

	HW	- Attain a post-release software defect density less
		  than or equal to 0.1458 SRs/KNCSS, assuming 1/89
		  shipments.

	HW	- Attain a pre-release software defect density less
		  than or equal to 0.1796 defects/KNCSS, assuming 1/89
		  shipments.

	HW	- Attain a pre-release defect rate less than or equal
		  to 20 defects/1000 hours, assuming 1/89 shipments.

        HW      - Gather defect and test time metrics so that DBA,
		  Defect Behavior Analysis, can be performed on a weekly
		  basis to monitor the software defect density and
		  instantaneous defect rate with regard to the three
		  goals stated above.



s800 Reliability Objectives
.sp 1
.fi
.ad b
See the NFS/800 Project Plan and Life Cycle for definition of the
quality certification criteria that will be met at various
milestones for the NFS/800 project.  
These criteria are derived from the
Spectrum HP-UX Certification Acceptance Criteria and are
consistent with the HP-PA release 4.0 program objectives.  
They include defect density, code coverage (both depth and
breadth coverage), and number of hours of reliability.
.sp 1
Other quality objectives for NFS/800 are listed below.
.sp 1
.nf
	MUST	- Demonstrate code stability by showing that the
		  following measures have a consistent downward trend.
		  The two code stability measures are 1) module change
		  rate, and 2) rate of defect detection.  Any indication
		  of increasing rates or rates which have peaked and
		  flattened out will result in non-acceptance of the
		  software.

	MUST	- Have no system crashes caused by unknown NFS
		  defects during the last 20 calendar days before
		  release to manufacturing.

        MUST    - Kernel-space test coverage to be at least (100/100/85)
		  for external entries, internal procedures, and code
		  coverage.

	MUST	- Pass all tests in the functional test suite as
		  a final bits test.  

	MUST	- Pass the Sun-supplied NFS tests.

	MUST    - User-space code depth coverage will be equal to or
		  greater than 85 percent (ING goal).

	HW	- Attain a post-release software defect density less
		  than or equal to 0.1350 SRs/KNCSS, assuming 3/89
		  shipments.

	HW	- Attain a pre-release software defect density less
		  than or equal to 0.1663 defects/KNCSS, assuming 3/89
		  shipments.

	HW	- Attain a pre-release defect rate less than or equal
		  to 18 defects/1000 hours, assuming 3/89 shipments.

        HW      - Gather defect and test time metrics so that DBA,
		  Defect Behavior Analysis, can be performed on a weekly
		  basis to monitor the software defect density and
		  instantaneous defect rate with regard to the three
		  goals stated above.


.fi
.sp 2
.H 3 "Performance Objectives"
.sp 1
.ad
Performance comparisons will be made
between two HP systems and two Sun systems.  The
comparisons will involve equivalent hardware systems.
For testing purposes, the performance of equivalent
systems should be evaluated under similar loads
and conditions.
.sp 1
.nf
	MUST	- Attain performance competitive with Sun's NFS 
		  performance as measured by a NFS specific benchmark. 
		  These comparison will be performed on systems 
		  configured with equivalent hardware.  The actual 
		  benchmark has not been determined.  Specifically,
		  attain the following level of performance:

		  Model 350:  90% of Sun Read/Write 3/260 with NFS 3.2
		  Model 835:  75% of Sun Read/Write 4/260 with NFS 4.0

		  The HP systems listed above are in the same general
		  price range as the corresponding Sun systems.

	HW	- Attain performance equal to or better than Sun's
		  NFS performance.  Specifically:

		  Model 350:  at least equal to Sun Read/Write 3/260
			      with NFS 3.2
		  Model 835:  at least equal to Sun Read/Write 4/260
			      with NFS 4.0
.fi
.sp 2
.H 3 "Supportability Objectives"
.sp 1
.nf
        MUST    - Provide a packet trace tool for internal use. ???

	HW	- Provide better diagnostic capabilities than Sun's.
.fi
.bp
.H 2 "Detailed Functional Objectives"
.nf
	MUST 	- Provide the Lock Manager and Status Monitor
		  services which implement System V compatible
                  ADVISORY file and record locking (fcntl calls)
		  for both local and remote files.
		  NOTE:  Sun's Lock Manager does not support
		     enforcement mode locks.  AT&T and HP do
		     support enforcement mode on local locks.
		     Any implementation of Sun's Lock Manager
		     on HP-UX will need to be compatible with
		     the current local enforcement mode locking.

	MUST    - Provide the RPC protocol compiler, rpcgen,
		  which supports a new language for creating
		  RPC servers and XDR routines without having
		  to write C routines.

	MUST	- Provide the remote execution service, REX, an
		  RPC-based service that preserves the working
		  directory and environment variables of the
		  invoking process.

	MUST	- Support for named pipes over NFS.

	MUST    - Any bug fixes that are included in Sun's NFS
		  version 3.4.

        -----------------------

        WANT    - WAN support.

        WANT    - HP-UX security improvements - access control lists.
.fi
.bp
.H 2 "System Attributes"
.ad
In  addition  to the formal  quality  objectives,  other
objectives  related  to  system  attributes  are  considered  vital.
Meeting  these  objectives  will  result in a product  that  will be
perceived by the end-users as being highly usable in a  multi-vendor
environment and as exhibiting "HP added value."
.na
.sp 2
.H 3 "Connectivity Objectives"
.sp 1
.nf

S300 Connectivity Objectives

	MUST	- Provide tested connectivity with the following
		  NFS systems and implementations:

		      o Sun's NFS (the two latest major releases;
			currently 3.4 and 4.0)
		      o Wollongong's NFS (server only) running
			on a VAX/VMS system,
		      o Sun's PC-NFS (client only, release 3.0) 
			running on a Vectra and IBM PC-AT,
		      o s300 HP-UX 6.2 running as a discless node,

        MUST    - Perform at least informal connectivity testing with a
		  Lachman-based system.

	MUST	- Provide tested connectivity via the following HP
		  networking products:
		      o RND bridge box (MacBridge),
		      o s300 IP gateway, and
		      o s800 IP gateway.

	MUST	- Provide tested connectivity through a Sun system
		  acting as an IP gateway.

        -----------------------

	HW	- Perform informal connectivity testing to other
		  systems at the Connect-a-thon and at Uniforum.

	HW	- Perform informal connectivity testing to other
		  systems through Alpha and Beta sites.

        -----------------------

        W       - Provide tested connectivity with a Lachman-based
		  system.

        W       - Provide tested connectivity with an NRC system.

	W 	- Provide tested connectivity with VAX/ULTRIX,
		  but only if this configuration is supported by
		  the NS-ARPA/300 product.


.bp
s800 Connectivity Objectives

	MUST    - Provide the same supported and tested connectivity 
		  as NFS/300.  See the following objectives for a
		  specific list:

	MUST	- Provide tested connectivity with the following
		  NFS systems and implementations:

		      o Sun's NFS (the two latest major releases;
			currently 3.4 and 4.0)
		      o Wollongong's NFS (server only) running
			on a VAX/VMS system,
		      o Sun's PC-NFS running on  Vectra and IBM PC-AT,
		      o HP-UX 6.5 w/NFS running on a discless s3x0,
		      o HP-UX 6.5 w/NFS running on s3x0 systems, 

        MUST    - Perform at least informal connectivity testing with a
		  Lachman-based system.

	MUST	- Provide tested connectivity via the following HP
		  networking products:
		      o RND bridge box (MacBridge),
		      o s300 IP gateway, and
		      o s800 IP gateway 

	MUST	- Provided tested connectivity through a Sun system
		  acting as an IP gateway.

        -----------------------

	HW	- Perform informal connectivity testing to other
		  systems at the Connect-a-thon and at Uniforum.

	HW	- Perform informal connectivity testing to other
		  systems through Alpha and Beta sites.

        -----------------------

        W       - Provide tested connectivity with a Lachman-based
		  system.

        W       - Provide tested connectivity with an NRC system.

	W 	- Provide tested connectivity with VAX/ULTRIX,
		  but only if this configuration is supported by
		  the LINK/800 product.
.fi
.sp 2
.H 3 "Compatibility Objectives"
.sp 1
.nf
	MUST	- NFS must be object code compatible with
		  previous HP-UX releases.  Customers should
		  not have to re-compile programs that perform
		  local file system operations.

	MUST	- NFS, RPC and XDR protocols must be compatible
		  with Sun's implementation.

	MUST 	- NFS must coexist with current HP networking
		  products: specifically the NS and the ARPA/
		  Berkeley services.  Co-existence is defined as
		  the ability to
		      o be used in conjunction with other network
			services with predictable results,
		      o be co-operable,
		      o share the same hardware,
		      o share the same network drivers, and
		      o use the same network.

	MUST	- NFS must coexist with HP-UX/discless/300 nodes.

	MUST	- NFS must be integrated with HP-UX in such
		  a way that it does not conflict with the HP-UX
		  standard.

        MUST    - Regarding compatibility with the HP-UX standard,
		  it is a must that remote file locking be compatible
		  with the current local enforcement locking.  That is,
		  a remote process will not be able to read or write a
		  local file with a local mandatory lock.  Remote locks
		  will be advisory only.

	HW	- Provide a user interface that is identical
		  to Sun's.  Obvious exceptions to this would
		  be improved error messages and commands that
		  must be modified to avoid conflicts with the
		  HP-UX standard.
.fi
.sp 2
.bp
.H 2 "Timeliness Objectives"
.ad
The following objectives deal with timeliness to market. Although
they do not relate to traditional quality metrics, they do have a
significant impact on how successful the NFS product will be.
.na
.sp 2
.nf
	MUST	- Release the Series 300 NFS 3.2 in 1989.

	MUST	- Release the Series 300 NFS 3.2 concurrent with
		  the 6.5 HP-UX release.

	MUST	- Release the Series 800 NFS 3.2 concurrent with
		  or before the 4.0 HP-UX release.
.fi
.bp
.H 2 "Product Environment"
.H 3 "Hardware Environment"
.sp 1
.ad
The target hardware is an HP 9000 s300 or s800 HP-UX computer system.
.sp 1
The S300 host computer must be equipped with a
98643A DIO-LAN or an equivalent built-in LAN interface for the
Model 330 and 350.  The S800 host computer must be equipped with a
27125B CIO-LAN interface card, a 28652 NIO-LAN interface card, or
a 5062-3313 turbo-lan interface card.
.na
.sp 2
.H 3 "Software Environment"
.sp 1
.ad
The target software environment for the NFS product is the
HP-UX operating system with TCP/IP support, including the
inetd daemon and sockets.  
.sp 1
On the Series 300, NFS depends on the HP-UX AXE product,
and the NS-ARPA Services/300 product.  On the Series 800,
NFS depends on the HP-UX product and the LAN/800 product
(previously called LINK/800).
.sp2
.bp
.H 2 "Non-Objectives"
.nf
	The following items are specific NON objectives for
	this project:

	  WILL NOT - Support the export options found in Sun's NFS
		     4.0.

          WILL NOT - Provide WAN support.

	  WILL NOT - Support 4.2 or 4.3 BSD features unless they
		     are specific to NFS or currently exist in HP-UX.

	  WILL NOT - Provide Sun's NFS 4.0 "discless" workstation
		     capabilities.
		     NOTE: HP-UX/Discless/300 provides discless 
		     workstation capabilities for the Series 300.

	  WILL NOT - Provide access to remote device files.
.fi
.TC 2 2 3 0 "TABLE OF CONTENTS"	\" Define format for table of contents
