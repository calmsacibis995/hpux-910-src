/* @(#) $Revision: 70.1 $ */    
#include "defs"
/* DEFAULT RULES FOR UNIX */

/***********************************************************************/
/*
  	These are the internal rules that "make" trucks around with it at
  	all times. One could completely delete this entire list and just
  	conventionally define a global "include" makefile which had these
  	rules in it. That would make the rules dynamically changeable
  	without recompiling make. This file may be modified to local
  	needs. There are currently two versions of this file with the
  	source; namely, rules.c (which is the version running in Columbus)
  	and pwbrules.c which is my attempt at satisfying the requirements
  	of PWB systems.

  	The makefile for make (make.mk) is parameterized for a different
  	rules file. The macro $(RULES) defined in "make.mk" can be set
  	to another file and when "make" is "made" the procedure will
  	use the new file. The recommended way to do this is on the
  	command line as follows:
  		"make -f make.mk RULES=pwbrules"
*/
/***********************************************************************/

CHARSTAR builtin[] =
	{
	(unsigned char *) ".SUFFIXES: .o .c .c~ .C .C~ .cxx .cxx~ .cpp .cpp~ .cc .cc~ .y .y~ .l .l~ .s .s~ .sh .sh~ .h .h~ .hxx .hpp .H .p .p~ .f .f~ .r .r~",

#ifdef	PATH
	(unsigned char *) ".PATH: .",
#endif	PATH

/* PRESET VARIABLES */
	(unsigned char *) "MAKE=make",
	(unsigned char *) "YACC=yacc",
	(unsigned char *) "YFLAGS=",
	(unsigned char *) "LEX=lex",
	(unsigned char *) "LFLAGS=",
	(unsigned char *) "LD=ld",
	(unsigned char *) "LDFLAGS=",
	(unsigned char *) "CC=cc",
	(unsigned char *) "FC=f77",
	(unsigned char *) "PC=pc",
	(unsigned char *) "CFLAGS=-O",
#ifdef hp9000s800
	(unsigned char *) "PFLAGS=-O",
#else
	(unsigned char *) "PFLAGS=",
#endif
	(unsigned char *) "FFLAGS=-O",
	(unsigned char *) "RFLAGS=-O",
	(unsigned char *) "AS=as",
	(unsigned char *) "ASFLAGS=",
	(unsigned char *) "GET=get",
	(unsigned char *) "GFLAGS=",
        (unsigned char *) "CXXFLAGS=-O", 
        (unsigned char *) "CXX=CC", 

/* SINGLE SUFFIX RULES */
	(unsigned char *) ".c:",
		(unsigned char *) "\t$(CC) $(CFLAGS) $< $(LDFLAGS) -o $@",
	(unsigned char *) ".c~:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.c",
		(unsigned char *) "\t$(CC) $(CFLAGS) $(LDFLAGS) $*.c -o $*",
		(unsigned char *) "\t-rm -f $*.c",
    (unsigned char *) ".C:",
	    (unsigned char *) "\t$(CXX) $(CXXFLAGS) $< $(LDFLAGS) -o $@",
    (unsigned char *) ".cxx:",
	    (unsigned char *) "\t$(CXX) $(CXXFLAGS) $< $(LDFLAGS) -o $@",
    (unsigned char *) ".cpp:",
	    (unsigned char *) "\t$(CXX) $(CXXFLAGS) $< $(LDFLAGS) -o $@",
    (unsigned char *) ".cc:",
	    (unsigned char *) "\t$(CXX) $(CXXFLAGS) $< $(LDFLAGS) -o $@",
    (unsigned char *) ".C~:",
	    (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.C",
	    (unsigned char *) "\t$(CXX) $(CXXFLAGS) $(LDFLAGS) $*.C -o $*",
	    (unsigned char *) "\trm -f $*.C",
    (unsigned char *) ".cxx~:",
	    (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cxx",
	    (unsigned char *) "\t$(CXX) $(CXXFLAGS) $(LDFLAGS) $*.cxx -o $*",
	    (unsigned char *) "\trm -f $*.cxx",
    (unsigned char *) ".cpp~:",
	    (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cpp",
	    (unsigned char *) "\t$(CXX) $(CXXFLAGS) $(LDFLAGS) $*.cpp -o $*",
	    (unsigned char *) "\trm -f $*.cpp",
    (unsigned char *) ".cc~:",
	    (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cc",
	    (unsigned char *) "\t$(CXX) $(CXXFLAGS) $(LDFLAGS) $*.cc -o $*",
	    (unsigned char *) "\trm -f $*.cc",
	(unsigned char *) ".sh:",
		(unsigned char *) "\tcp $< $@; chmod 0777 $@",
	(unsigned char *) ".sh~:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.sh",
		(unsigned char *) "\tcp $*.sh $*; chmod 0777 $@",
		(unsigned char *) "\t-rm -f $*.sh",
	(unsigned char *) ".p:",
		(unsigned char *) "\t$(PC) $(PFLAGS) $(LDFLAGS) $< -o $@",
	(unsigned char *) ".p~:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.p",
		(unsigned char *) "\t$(PC) $(PFLAGS) $(LDFLAGS) $*.p -o $*",
		(unsigned char *) "\t-rm -f $*.p",
	(unsigned char *) ".f:",
		(unsigned char *) "\t$(FC) $(FFLAGS) $(LDFLAGS) $< -o $@",
	(unsigned char *) ".f~:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.f",
		(unsigned char *) "\t$(FC) $(FFLAGS) $(LDFLAGS) $*.f -o $*",
		(unsigned char *) "\t-rm -f $*.f",
	(unsigned char *) ".r:",
		(unsigned char *) "\t$(FC) $(RFLAGS) $(LDFLAGS) $< -o $@",
	(unsigned char *) ".r~:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.r",
		(unsigned char *) "\t$(FC) $(RFLAGS) $(LDFLAGS) $*.r -o $*",
		(unsigned char *) "\t-rm -f $*.r",

/* DOUBLE SUFFIX RULES */
	(unsigned char *) ".c.o:",
		(unsigned char *) "\t$(CC) $(CFLAGS) -c $<",
	(unsigned char *) ".c~.o:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.c",
		(unsigned char *) "\t$(CC) $(CFLAGS) -c $*.c",
		(unsigned char *) "\t-rm -f $*.c",
	(unsigned char *) ".c~.c:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.c",
	(unsigned char *) ".p.a:",
		(unsigned char *) "\t$(PC) $(PFLAGS) +a -c $<",
	(unsigned char *) ".p~.a:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.p",
		(unsigned char *) "\t$(PC) $(PFLAGS) +a -c $*.p",
		(unsigned char *) "\t-rm -f $*.p",
	(unsigned char *) ".p.o:    # redundant ?",
		(unsigned char *) "\t$(PC) $(PFLAGS) -c $<",
	(unsigned char *) ".p~.o:    # redundant ?",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.p",
		(unsigned char *) "\t$(PC) $(PFLAGS) -c $*.p",
		(unsigned char *) "\t-rm -f $*.p",
	(unsigned char *) ".p~.p:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.p",
	(unsigned char *) ".f.o:",
		(unsigned char *) "\t$(FC) $(FFLAGS) -c $<",
	(unsigned char *) ".f~.o:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.f",
		(unsigned char *) "\t$(FC) $(FFLAGS) -c $*.f",
		(unsigned char *) "\t-rm -f $*.f",
	(unsigned char *) ".f~.f:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.f",
	(unsigned char *) ".r.o:",
		(unsigned char *) "\t$(FC) $(RFLAGS) -c $<",
	(unsigned char *) ".r~.o:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.r",
		(unsigned char *) "\t$(FC) $(RFLAGS) -c $*.r",
		(unsigned char *) "\t-rm -f $*.r",
	(unsigned char *) ".r~.r:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.r",
	(unsigned char *) ".s.o:",
		(unsigned char *) "\t$(AS) $(ASFLAGS) -o $@ $<",
	(unsigned char *) ".s~.o:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.s",
		(unsigned char *) "\t$(AS) $(ASFLAGS) -o $*.o $*.s",
		(unsigned char *) "\t-rm -f $*.s",
	(unsigned char *) ".y.o:",
		(unsigned char *) "\t$(YACC) $(YFLAGS) $<",
		(unsigned char *) "\t$(CC) $(CFLAGS) -c y.tab.c",
		(unsigned char *) "\trm y.tab.c",
		(unsigned char *) "\tmv y.tab.o $@",
	(unsigned char *) ".y~.o:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.y",
		(unsigned char *) "\t$(YACC) $(YFLAGS) $*.y",
		(unsigned char *) "\t$(CC) $(CFLAGS) -c y.tab.c",
		(unsigned char *) "\trm -f y.tab.c $*.y",
		(unsigned char *) "\tmv y.tab.o $*.o",
	(unsigned char *) ".l.o:",
		(unsigned char *) "\t$(LEX) $(LFLAGS) $<",
		(unsigned char *) "\t$(CC) $(CFLAGS) -c lex.yy.c",
		(unsigned char *) "\trm lex.yy.c",
		(unsigned char *) "\tmv lex.yy.o $@",
	(unsigned char *) ".l~.o:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.l",
		(unsigned char *) "\t$(LEX) $(LFLAGS) $*.l",
		(unsigned char *) "\t$(CC) $(CFLAGS) -c lex.yy.c",
		(unsigned char *) "\trm -f lex.yy.c $*.l",
		(unsigned char *) "\tmv lex.yy.o $*.o",
    (unsigned char *) ".C.a:",
        (unsigned char *) "\t$(CXX) -c $(CXXFLAGS) $<",
        (unsigned char *) "\tar rv $@ $*.o",
        (unsigned char *) "\trm -f $*.o",
    (unsigned char *) ".cxx.a:",
        (unsigned char *) "\t$(CXX) -c $(CXXFLAGS) $<",
        (unsigned char *) "\tar rv $@ $*.o",
        (unsigned char *) "\trm -f $*.o",
    (unsigned char *) ".cpp.a:",
        (unsigned char *) "\t$(CXX) -c $(CXXFLAGS) $<",
        (unsigned char *) "\tar rv $@ $*.o",
        (unsigned char *) "\trm -f $*.o",
    (unsigned char *) ".cc.a:",
        (unsigned char *) "\t$(CXX) -c $(CXXFLAGS) $<",
        (unsigned char *) "\tar rv $@ $*.o",
        (unsigned char *) "\trm -f $*.o",
    (unsigned char *) ".C~.a:",
        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.C",
        (unsigned char *) "\t$(CXX) -c $(CXXFLAGS) $*.C",
        (unsigned char *) "\tar rv $@ $*.o",
        (unsigned char *) "\trm -f $*.[Co]",
    (unsigned char *) ".cxx~.a:",
        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cxx",
        (unsigned char *) "\t$(CXX) -c $(CXXFLAGS) $*.cxx",
        (unsigned char *) "\tar rv $@ $*.o",
        (unsigned char *) "\trm -f $*.cxx $*.o",
    (unsigned char *) ".cpp~.a:",
        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cpp",
        (unsigned char *) "\t$(CXX) -c $(CXXFLAGS) $*.cpp",
        (unsigned char *) "\tar rv $@ $*.o",
        (unsigned char *) "\trm -f $*.cpp $*.o",
    (unsigned char *) ".cc~.a:",
        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cc",
        (unsigned char *) "\t$(CXX) -c $(CXXFLAGS) $*.cc",
        (unsigned char *) "\tar rv $@ $*.o",
        (unsigned char *) "\trm -f $*.cc $*.o",
    (unsigned char *) ".C.o:",
        (unsigned char *) "\t$(CXX) $(CXXFLAGS) -c $<",
    (unsigned char *) ".cxx.o:",
        (unsigned char *) "\t$(CXX) $(CXXFLAGS) -c $<",
    (unsigned char *) ".cpp.o:",
        (unsigned char *) "\t$(CXX) $(CXXFLAGS) -c $<",
    (unsigned char *) ".cc.o:",
        (unsigned char *) "\t$(CXX) $(CXXFLAGS) -c $<",
    (unsigned char *) ".C~.o:",
        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.C",
        (unsigned char *) "\t$(CXX) $(CXXFLAGS) -c $*.C",
        (unsigned char *) "\trm -f $*.C",
    (unsigned char *) ".cxx~.o:",
        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cxx",
        (unsigned char *) "\t$(CXX) $(CXXFLAGS) -c $*.cxx",
        (unsigned char *) "\trm -f $*.cxx",
    (unsigned char *) ".cpp~.o:",
        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cpp",
        (unsigned char *) "\t$(CXX) $(CXXFLAGS) -c $*.cpp",
        (unsigned char *) "\trm -f $*.cpp",
    (unsigned char *) ".cc~.o:",
        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cc",
        (unsigned char *) "\t$(CXX) $(CXXFLAGS) -c $*.cc",
        (unsigned char *) "\trm -f $*.cc",
    (unsigned char *) ".C~.C:",
	        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.C",
    (unsigned char *) ".cxx~.cxx:",
	        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cxx",
    (unsigned char *) ".cpp~.cpp:",
	        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cpp",
    (unsigned char *) ".cc~.cc:",
	        (unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.cc",
	(unsigned char *) ".y.c :",
		(unsigned char *) "\t$(YACC) $(YFLAGS) $<",
		(unsigned char *) "\tmv y.tab.c $@",
	(unsigned char *) ".y~.c :",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.y",
		(unsigned char *) "\t$(YACC) $(YFLAGS) $*.y",
		(unsigned char *) "\tmv y.tab.c $*.c",
		(unsigned char *) "\t-rm -f $*.y",
	(unsigned char *) ".l.c :",
		(unsigned char *) "\t$(LEX) $(LFLAGS) $<",
		(unsigned char *) "\tmv lex.yy.c $@",
	(unsigned char *) ".c.a:",
		(unsigned char *) "\t$(CC) -c $(CFLAGS) $<",
		(unsigned char *) "\tar rv $@ $*.o",
		(unsigned char *) "\trm -f $*.o",
	(unsigned char *) ".c~.a:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.c",
		(unsigned char *) "\t$(CC) -c $(CFLAGS) $*.c",
		(unsigned char *) "\tar rv $@ $*.o",
		(unsigned char *) "\trm -f $*.[co]",
	(unsigned char *) ".f.a:",
		(unsigned char *) "\t$(FC) -c $(FFLAGS) $<",
		(unsigned char *) "\tar rv $@ $*.o",
		(unsigned char *) "\trm -f $*.o",
	(unsigned char *) ".f~.a:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.f",
		(unsigned char *) "\t$(FC) -c $(FFLAGS) $*.f",
		(unsigned char *) "\tar rv $@ $*.o",
		(unsigned char *) "\trm -f $*.[fo]",
	(unsigned char *) ".r.a:",
		(unsigned char *) "\t$(FC) -c $(RFLAGS) $<",
		(unsigned char *) "\tar rv $@ $*.o",
		(unsigned char *) "\trm -f $*.o",
	(unsigned char *) ".r~.a:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.r",
		(unsigned char *) "\t$(FC) -c $(RFLAGS) $*.r",
		(unsigned char *) "\tar rv $@ $*.o",
		(unsigned char *) "\trm -f $*.[ro]",
	(unsigned char *) ".s~.a:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.s",
		(unsigned char *) "\t$(AS) $(ASFLAGS) -o $*.o $*.s",
		(unsigned char *) "\tar rv $@ $*.o",
		(unsigned char *) "\t-rm -f $*.[so]",
	(unsigned char *) ".h~.h:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.h",
	(unsigned char *) ".H~.H:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.H",
	(unsigned char *) ".hxx~.hxx:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.hxx",
	(unsigned char *) ".hpp~.hpp:",
		(unsigned char *) "\t$(GET) $(GFLAGS) -p $< > $*.hpp",
	(unsigned char *) "markfile.o:	markfile",
		(unsigned char *) "\tA=@;echo \"static char _sccsid[] = \\042`grep $$A'(#)' markfile`\\042;\" > markfile.c",
		(unsigned char *) "\tcc -c markfile.c",
		(unsigned char *) "\trm -f markfile.c",
	0 };

